{% extends "base.html" %}

{% block content %}
<h2 style="margin: 0 0 20px 0; color: #2c3e50; font-size: 22px; font-weight: 600;">
    ご注文ありがとうございます
</h2>

<p style="margin: 0 0 20px 0; font-size: 16px;">
    {{ customer_name }} 様
</p>

<p style="margin: 0 0 25px 0; font-size: 15px; color: #555;">
    ご注文を受け付けました。以下の内容をご確認ください。
</p>

<!-- 注文番号 -->
<div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); padding: 20px; border-radius: 6px; margin-bottom: 30px;">
    <p style="margin: 0; font-size: 12px; color: rgba(255,255,255,0.8);">注文番号</p>
    <p style="margin: 5px 0 0 0; font-size: 18px; color: #ffffff; font-weight: 600; letter-spacing: 1px;">
        {{ order_id }}
    </p>
</div>

<!-- 注文商品 -->
<h3 style="margin: 0 0 15px 0; font-size: 16px; color: #495057; font-weight: 600; border-bottom: 2px solid #667eea; padding-bottom: 10px;">
    ご注文内容
</h3>

<table width="100%" cellpadding="0" cellspacing="0" style="margin-bottom: 20px;">
    <thead>
        <tr style="background-color: #f8f9fa;">
            <th style="padding: 12px 10px; text-align: left; font-size: 13px; color: #6c757d; font-weight: 600;">商品名</th>
            <th style="padding: 12px 10px; text-align: right; font-size: 13px; color: #6c757d; font-weight: 600;">単価</th>
            <th style="padding: 12px 10px; text-align: center; font-size: 13px; color: #6c757d; font-weight: 600;">数量</th>
            <th style="padding: 12px 10px; text-align: right; font-size: 13px; color: #6c757d; font-weight: 600;">小計</th>
        </tr>
    </thead>
    <tbody>
        {% for item in items %}
        <tr>
            <td style="padding: 12px 10px; border-bottom: 1px solid #e9ecef; font-size: 14px;">{{ item.product_name }}</td>
            <td style="padding: 12px 10px; border-bottom: 1px solid #e9ecef; text-align: right; font-size: 14px;">{{ format_currency(item.unit_price) }}</td>
            <td style="padding: 12px 10px; border-bottom: 1px solid #e9ecef; text-align: center; font-size: 14px;">{{ item.quantity }}</td>
            <td style="padding: 12px 10px; border-bottom: 1px solid #e9ecef; text-align: right; font-size: 14px;">{{ format_currency(item.subtotal) }}</td>
        </tr>
        {% endfor %}
    </tbody>
</table>

<!-- 合計 -->
<table width="100%" cellpadding="0" cellspacing="0" style="margin-bottom: 30px;">
    <tr>
        <td style="padding: 8px 10px; text-align: right; font-size: 14px; color: #6c757d;">小計:</td>
        <td style="padding: 8px 10px; text-align: right; font-size: 14px; width: 100px;">{{ format_currency(subtotal) }}</td>
    </tr>
    {% if discount > 0 %}
    <tr>
        <td style="padding: 8px 10px; text-align: right; font-size: 14px; color: #28a745;">割引:</td>
        <td style="padding: 8px 10px; text-align: right; font-size: 14px; color: #28a745; width: 100px;">-{{ format_currency(discount) }}</td>
    </tr>
    {% endif %}
    <tr>
        <td style="padding: 8px 10px; text-align: right; font-size: 14px; color: #6c757d;">送料:</td>
        <td style="padding: 8px 10px; text-align: right; font-size: 14px; width: 100px;">{{ format_currency(shipping_fee) }}</td>
    </tr>
    <tr>
        <td style="padding: 12px 10px; text-align: right; font-size: 18px; font-weight: 600; color: #2c3e50; border-top: 2px solid #667eea;">合計:</td>
        <td style="padding: 12px 10px; text-align: right; font-size: 18px; font-weight: 600; color: #667eea; width: 100px; border-top: 2px solid #667eea;">{{ format_currency(total) }}</td>
    </tr>
</table>

<!-- 配送先 -->
<h3 style="margin: 0 0 15px 0; font-size: 16px; color: #495057; font-weight: 600; border-bottom: 2px solid #667eea; padding-bottom: 10px;">
    お届け先
</h3>

<div style="background-color: #f8f9fa; padding: 20px; border-radius: 6px; margin-bottom: 30px;">
    <p style="margin: 0 0 8px 0; font-size: 15px; font-weight: 600;">{{ shipping_address.name }}</p>
    <p style="margin: 0 0 5px 0; font-size: 14px; color: #6c757d;">
        〒{{ shipping_address.postal_code }}<br>
        {{ shipping_address.prefecture }}{{ shipping_address.city }}<br>
        {{ shipping_address.address_line1 }}{% if shipping_address.address_line2 %} {{ shipping_address.address_line2 }}{% endif %}
    </p>
    {% if shipping_address.phone_number %}
    <p style="margin: 10px 0 0 0; font-size: 14px; color: #6c757d;">
        TEL: {{ shipping_address.phone_number }}
    </p>
    {% endif %}
</div>

<p style="margin: 0; font-size: 15px; color: #555;">
    商品発送時に改めてメールでお知らせいたします。<br>
    今しばらくお待ちください。
</p>
{% endblock %}
