# 考えてる構成

- Cognito で認証トークンとかは管理
  - lambda/accounts で Role とかは別途割り振り
- 在庫入出庫時（管理者として、not 販売）に lambda/stock から登録作業等を実施
- オンライン販売と対面販売の際の決済情報のやり取り＋在庫の増減を lambda/sales で実施
  - 現金販売をイベントごとの sales 担当者ロールで管理
- これらのデータは原則 dynamodb 管理
- フロントエンド関係はまた考える（多分 Vercel とかとうまいこと分けた方がいい）
- API キー周りは AWS Secrets Manager で上手いこと管理

## 在庫データとして持っていてほしいもの

- 要するに EC とかネット書店に近い状態でフィールドを持っていてほしい。
- 商品画像、カテゴリ、在庫、著者（任意）、出版社あるいは製造者、在庫バリエーション種別（DLC、物理、あるいは両方
- あと出版社（サークル）については設定ファイル的な感じで、ブランド設定をできるようにしたい。

## 販売でできてほしいこと

- クーポンコードの適用（商品単位、カテゴリなど任意のフィルタ＋一切フィルタなしの両パターン、回数設定等も任意で。）
- 販売履歴の管理（DynamoDB に貯めておいて）、領収書の発行(Stripe 経由でも OK)
- 委託販売を受ける場合の設定とレポート（つまり、出版社と別の販社がいて、そこに対して委託料を支払うケース。売上の識別と伝票の作成。これにあたってクレジット会社ごとに料率なども違うので、そこら辺踏まえて）
